/**
 * Annoying platform-informed helpers.
 **/

/**
 * Take the responseText from an XHR request and convert it to base64.  This
 *  is annoying because the 'xhr' npm shim we use explicitly forces the encoding
 *  to utf8 so we can't just use btoa (not that getting at btoa isn't annoying.)
 */
exports.xhrResponseToBase64 = function(data) {
  var buf = new Buffer(data, 'utf8');
  return buf.toString('base64');
};

exports.atob = function(data) {
  var buf = new Buffer(data, 'base64');
  return buf.toString('utf8');
};
