<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Deuxdrop</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="../web/deps/require.js"></script>
    <script>
      require(
        {
          baseUrl: '../web/deps',
          paths: {
            'microtime': '../../addon/js/microtime',
            'path': '../../addon/js/path',
            //'browserId': 'include'
            'browserId': 'https://browserid.org/include'
          }
        },
        ['../../addon/js/main']
      );
    </script>
  </head>
  <body>

    <div id="cardContainer">
      <div id="cards">
        <div data-cardid="signIn" title="Sign In" class="card noiscroll">
          <div class="scroller">
            <form class="signUpForm">
              <input type="text" name="name" placeholder="Enter your name">
              <button>Sign In With BrowserID</button>
            </form>
          </div>
        </div>
        <div data-cardid="pickServer" title="Pick Server" class="card">
          <div class="scroller" data-childclass="serverLink">
          </div>
        </div>
        <div data-cardid="enterServer" title="Enter Server" class="card">
          <div class="scroller">
            <form class="enterServerForm">
              <input type="text" name="server" placeholder="Enter server name">
              <span>Warning, this is advanced voodoo and not very secure.</span>
            </form>
          </div>
        </div>
        <div data-cardid="start" title="Deuxdrop" class="card noiscroll">
          <div class="scroller">
            <a class="item block vbox" href="#peeps"><div class="boxFlex"><img class="tileImage" src="i/face2.png"></div><span class="tileName">People</span></a>
          </div>
        </div>
        <div data-cardid="peeps" title="People" class="card">
          <div class="scroller" data-childclass="personLink">
          </div>
        </div>
        <div data-cardid="user" class="card">
          <div class="scroller">
            <div class="peepInfo">
              <img class="peepInfoPic" data-bind="pic" data-attr="src" src="i/face2.png">
              <span data-bind="name" class="peepInfoName"></span>
            </div>
            <div class="peepConversations" data-childclass="convListItem">
            </div>
            <form data-class="compose"></form>
            <span class="addToChatMessage hidden">This person needs to add you before you can chat with them.</span>
            <form class="addPeepButtonForm hidden">
              <input type="hidden" name="peepId" value="" data-bind="id" data-attr="value">
              <button class="">Add</button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Start standard UI elements -->
    <div id="common" class="hidden">

      <a data-classimpl="addServerLink" class="item" href="#enterServer">+ Add Server</a>

      <a data-classimpl="serverLink" class="item" data-nonav="nonav" href="#connectToServer?id=">
        <span data-bind="id"></span>
      </a>

      <form data-classimpl="compose" class="compose">
        <input type="hidden" name="from" value="">
        <input type="hidden" name="to" value="">
        <input type="hidden" name="convId" value="">
        <input type="text" name="text">
      </form>

      <a href="#conversation?id=" data-classimpl="newConversation" class="newConversation">
        <span class="avatar"><img src="i/face2.png" class="avatar" data-bind="from.pic" data-attr="src"></span>
        <span class="newConversationPeep" data-bind="from.name"></span>
        <span class="newConversationTime"></span>
        <span class="newConversationText" data-bind="text"></span>
      </a>

      <a data-classimpl="personLink" class="item" href="#user">
        <img class="peepInfoPic" src="i/face2.png" data-bind="pic" data-attr="src" align="absmiddle">
        <span class="personName" data-bind="displayName"></span>
      </a>

      <a data-classimpl="addPeepLink" data-nonav="nonav" class="item" href="#user?&id="></a>

      <a data-classimpl="addPersonLink" class="item" href="#listUsersForAddPeep">+ Add Peep</a>

      <a data-classimpl="convListItem" class="item" href="#conversation?id="><span class="meta"></span></a>

      <div data-classimpl="message"  class="bubble">
        <a href='#user?id=' class="sender">
          <span class="avatar"><img src="i/face2.png" class="avatar" data-bind="from.pic" data-attr="src"/></span>
          <span class="name" data-bind="from.name"></span>
        </a>
        <div class="body">
          <div class="meta">
          </div>
        </div>
      </div>

    </div>
    <!-- End standard UI elements -->
  </body>
</html>
